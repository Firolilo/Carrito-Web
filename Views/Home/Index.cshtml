@{
    ViewData["Title"] = "Página Principal";
}

<h1>Bienvenido a la Tienda en Línea</h1>

@if (User.Identity.IsAuthenticated)
{
    <p>Bienvenido, @User.Identity.Name!</p>

    <h3>Opciones para Usuario</h3>
    <ul>
        <li><a asp-controller="Producto" asp-action="Index">Ver Productos</a></li>
        <li><a asp-controller="Carrito" asp-action="Ver">Ver Carrito</a></li>
        <li><a asp-controller="Orden" asp-action="Historial">Historial de Compras</a></li>
    </ul>

    @if (User.IsInRole("Admin"))
    {
        <h3>Opciones de Administración</h3>
        <ul>
            <li><a asp-controller="Producto" asp-action="Crear">Agregar Producto</a></li>
            <li><a asp-controller="Producto" asp-action="Index">Administrar Productos</a></li>
        </ul>
    }

    <form asp-area="Identity" asp-page="/Account/Logout" method="post" class="mt-3">
        <button type="submit" class="btn btn-danger">Cerrar sesión</button>
    </form>
}
else
{
    <p>Por favor, <a asp-area="Identity" asp-page="/Account/Login">inicia sesión</a> o <a asp-area="Identity" asp-page="/Account/Register">regístrate</a> para acceder a las funcionalidades.</p>
}
